!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.QRCodeStyling=o():t.QRCodeStyling=o()}(this,(function(){return(()=>{"use strict";var t={423:(t,o,e)=>{e.d(o,{default:()=>I});var n=function(){return(n=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)},r=function(){for(var t=0,o=0,e=arguments.length;o<e;o++)t+=arguments[o].length;var n=Array(t),r=0;for(o=0;o<e;o++)for(var i=arguments[o],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n},i=function(t){return!!t&&"object"==typeof t&&!Array.isArray(t)};function a(t){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];if(!o.length)return t;var s=o.shift();return void 0!==s&&i(t)&&i(s)?(t=n({},t),Object.keys(s).forEach((function(o){var e=t[o],n=s[o];Array.isArray(e)&&Array.isArray(n)?t[o]=n:i(e)&&i(n)?t[o]=a(Object.assign({},e),n):t[o]=n})),a.apply(void 0,r([t],o))):t}const s={L:.07,M:.15,Q:.25,H:.3};var c=function(){return(c=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};const h=function(){function t(t){var o=t.context,e=t.type;this._context=o,this._type=e}return t.prototype.draw=function(t,o,e,n){var r,i=this._context;switch(this._type){case"dots":r=this._drawDot;break;case"classy":r=this._drawClassy;break;case"classy-rounded":r=this._drawClassyRounded;break;case"rounded":r=this._drawRounded;break;case"extra-rounded":r=this._drawExtraRounded;break;case"square":default:r=this._drawSquare}r.call(this,{x:t,y:o,size:e,context:i,getNeighbor:n})},t.prototype._rotateFigure=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation,a=t.draw,s=o+n/2,c=e+n/2;r.translate(s,c),i&&r.rotate(i),a(),r.closePath(),i&&r.rotate(-i),r.translate(-s,-c)},t.prototype._basicDot=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.arc(0,0,o/2,0,2*Math.PI)}}))},t.prototype._basicSquare=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.rect(-o/2,-o/2,o,o)}}))},t.prototype._basicSideRounded=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.arc(0,0,o/2,-Math.PI/2,Math.PI/2),e.lineTo(-o/2,o/2),e.lineTo(-o/2,-o/2),e.lineTo(0,-o/2)}}))},t.prototype._basicCornerRounded=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.arc(0,0,o/2,-Math.PI/2,0),e.lineTo(o/2,o/2),e.lineTo(-o/2,o/2),e.lineTo(-o/2,-o/2),e.lineTo(0,-o/2)}}))},t.prototype._basicCornerExtraRounded=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.arc(-o/2,o/2,o,-Math.PI/2,0),e.lineTo(-o/2,o/2),e.lineTo(-o/2,-o/2)}}))},t.prototype._basicCornersRounded=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.arc(0,0,o/2,-Math.PI/2,0),e.lineTo(o/2,o/2),e.lineTo(0,o/2),e.arc(0,0,o/2,Math.PI/2,Math.PI),e.lineTo(-o/2,-o/2),e.lineTo(0,-o/2)}}))},t.prototype._basicCornersExtraRounded=function(t){var o=t.size,e=t.context;this._rotateFigure(c(c({},t),{draw:function(){e.arc(-o/2,o/2,o,-Math.PI/2,0),e.arc(o/2,-o/2,o,Math.PI/2,Math.PI)}}))},t.prototype._drawDot=function(t){var o=t.x,e=t.y,n=t.size,r=t.context;this._basicDot({x:o,y:e,size:n,context:r,rotation:0})},t.prototype._drawSquare=function(t){var o=t.x,e=t.y,n=t.size,r=t.context;this._basicSquare({x:o,y:e,size:n,context:r,rotation:0})},t.prototype._drawRounded=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),c=+i(0,-1),h=+i(0,1),u=a+s+c+h;if(0!==u)if(u>2||a&&s||c&&h)this._basicSquare({x:o,y:e,size:n,context:r,rotation:0});else{if(2===u){var d=0;return a&&c?d=Math.PI/2:c&&s?d=Math.PI:s&&h&&(d=-Math.PI/2),void this._basicCornerRounded({x:o,y:e,size:n,context:r,rotation:d})}if(1===u)return d=0,c?d=Math.PI/2:s?d=Math.PI:h&&(d=-Math.PI/2),void this._basicSideRounded({x:o,y:e,size:n,context:r,rotation:d})}else this._basicDot({x:o,y:e,size:n,context:r,rotation:0})},t.prototype._drawExtraRounded=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),c=+i(0,-1),h=+i(0,1),u=a+s+c+h;if(0!==u)if(u>2||a&&s||c&&h)this._basicSquare({x:o,y:e,size:n,context:r,rotation:0});else{if(2===u){var d=0;return a&&c?d=Math.PI/2:c&&s?d=Math.PI:s&&h&&(d=-Math.PI/2),void this._basicCornerExtraRounded({x:o,y:e,size:n,context:r,rotation:d})}if(1===u)return d=0,c?d=Math.PI/2:s?d=Math.PI:h&&(d=-Math.PI/2),void this._basicSideRounded({x:o,y:e,size:n,context:r,rotation:d})}else this._basicDot({x:o,y:e,size:n,context:r,rotation:0})},t.prototype._drawClassy=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),c=+i(0,-1),h=+i(0,1);0!==a+s+c+h?a||c?s||h?this._basicSquare({x:o,y:e,size:n,context:r,rotation:0}):this._basicCornerRounded({x:o,y:e,size:n,context:r,rotation:Math.PI/2}):this._basicCornerRounded({x:o,y:e,size:n,context:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:o,y:e,size:n,context:r,rotation:Math.PI/2})},t.prototype._drawClassyRounded=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),c=+i(0,-1),h=+i(0,1);0!==a+s+c+h?a||c?s||h?this._basicSquare({x:o,y:e,size:n,context:r,rotation:0}):this._basicCornerExtraRounded({x:o,y:e,size:n,context:r,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:o,y:e,size:n,context:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:o,y:e,size:n,context:r,rotation:Math.PI/2})},t}();var u=function(){return(u=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};const d=function(){function t(t){var o=t.context,e=t.type;this._context=o,this._type=e}return t.prototype.draw=function(t,o,e,n){var r,i=this._context;switch(this._type){case"square":r=this._drawSquare;break;case"extra-rounded":r=this._drawExtraRounded;break;case"dot":default:r=this._drawDot}r.call(this,{x:t,y:o,size:e,context:i,rotation:n})},t.prototype._rotateFigure=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation,a=t.draw,s=o+n/2,c=e+n/2;r.translate(s,c),i&&r.rotate(i),a(),r.closePath(),i&&r.rotate(-i),r.translate(-s,-c)},t.prototype._basicDot=function(t){var o=t.size,e=t.context,n=o/7;this._rotateFigure(u(u({},t),{draw:function(){e.arc(0,0,o/2,0,2*Math.PI),e.arc(0,0,o/2-n,0,2*Math.PI)}}))},t.prototype._basicSquare=function(t){var o=t.size,e=t.context,n=o/7;this._rotateFigure(u(u({},t),{draw:function(){e.rect(-o/2,-o/2,o,o),e.rect(-o/2+n,-o/2+n,o-2*n,o-2*n)}}))},t.prototype._basicExtraRounded=function(t){var o=t.size,e=t.context,n=o/7;this._rotateFigure(u(u({},t),{draw:function(){e.arc(-n,-n,2.5*n,Math.PI,-Math.PI/2),e.lineTo(n,-3.5*n),e.arc(n,-n,2.5*n,-Math.PI/2,0),e.lineTo(3.5*n,-n),e.arc(n,n,2.5*n,0,Math.PI/2),e.lineTo(-n,3.5*n),e.arc(-n,n,2.5*n,Math.PI/2,Math.PI),e.lineTo(-3.5*n,-n),e.arc(-n,-n,1.5*n,Math.PI,-Math.PI/2),e.lineTo(n,-2.5*n),e.arc(n,-n,1.5*n,-Math.PI/2,0),e.lineTo(2.5*n,-n),e.arc(n,n,1.5*n,0,Math.PI/2),e.lineTo(-n,2.5*n),e.arc(-n,n,1.5*n,Math.PI/2,Math.PI),e.lineTo(-2.5*n,-n)}}))},t.prototype._drawDot=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation;this._basicDot({x:o,y:e,size:n,context:r,rotation:i})},t.prototype._drawSquare=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation;this._basicSquare({x:o,y:e,size:n,context:r,rotation:i})},t.prototype._drawExtraRounded=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation;this._basicExtraRounded({x:o,y:e,size:n,context:r,rotation:i})},t}();var l=function(){return(l=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};const p=function(){function t(t){var o=t.context,e=t.type;this._context=o,this._type=e}return t.prototype.draw=function(t,o,e,n){var r,i=this._context;switch(this._type){case"square":r=this._drawSquare;break;case"dot":default:r=this._drawDot}r.call(this,{x:t,y:o,size:e,context:i,rotation:n})},t.prototype._rotateFigure=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation,a=t.draw,s=o+n/2,c=e+n/2;r.translate(s,c),i&&r.rotate(i),a(),r.closePath(),i&&r.rotate(-i),r.translate(-s,-c)},t.prototype._basicDot=function(t){var o=t.size,e=t.context;this._rotateFigure(l(l({},t),{draw:function(){e.arc(0,0,o/2,0,2*Math.PI)}}))},t.prototype._basicSquare=function(t){var o=t.size,e=t.context;this._rotateFigure(l(l({},t),{draw:function(){e.rect(-o/2,-o/2,o,o)}}))},t.prototype._drawDot=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation;this._basicDot({x:o,y:e,size:n,context:r,rotation:i})},t.prototype._drawSquare=function(t){var o=t.x,e=t.y,n=t.size,r=t.context,i=t.rotation;this._basicSquare({x:o,y:e,size:n,context:r,rotation:i})},t}(),f=require("canvas");var v=function(t,o,e,n){return new(e||(e=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var o;t.done?r(t.value):(o=t.value,o instanceof e?o:new e((function(t){t(o)}))).then(a,s)}c((n=n.apply(t,o||[])).next())}))},y=function(t,o){var e,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=o.call(t,a)}catch(t){i=[6,t],n=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},g=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],x=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const _=function(){function t(t){var o;this._canvas=(0,f.createCanvas)(t.width,t.height,(null===(o=t.canvas)||void 0===o?void 0:o.isSvg)?"svg":void 0),this._options=t}return Object.defineProperty(t.prototype,"context",{get:function(){return this._canvas.getContext("2d")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._canvas.height},enumerable:!1,configurable:!0}),t.prototype.getCanvas=function(){return this._canvas},t.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this._canvas.width,this._canvas.height)},t.prototype.drawQR=function(t){return v(this,void 0,void 0,(function(){var o,e,n,r,i,a,c,h,u,d=this;return y(this,(function(l){switch(l.label){case 0:return o=t.getModuleCount(),e=Math.min(this._options.width,this._options.height)-2*this._options.margin,n=Math.floor(e/o),r={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(l.sent(),!this._image)return[2];i=this._options,a=i.imageOptions,c=i.qrOptions,h=a.imageSize*s[c.errorCorrectionLevel],u=Math.floor(h*o*o),r=function(t){var o=t.originalHeight,e=t.originalWidth,n=t.maxHiddenDots,r=t.maxHiddenAxisDots,i=t.dotSize,a={x:0,y:0},s={x:0,y:0};if(o<=0||e<=0||n<=0||i<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var c=o/e;return a.x=Math.floor(Math.sqrt(n/c)),a.x<=0&&(a.x=1),r&&r<a.x&&(a.x=r),a.x%2==0&&a.x--,s.x=a.x*i,a.y=1+2*Math.ceil((a.x*c-1)/2),s.y=Math.round(s.x*c),(a.y*a.x>n||r&&r<a.y)&&(r&&r<a.y?(a.y=r,a.y%2==0&&a.x--):a.y-=2,s.y=a.y*i,a.x=1+2*Math.ceil((a.y/c-1)/2),s.x=Math.round(s.y/c)),{height:s.y,width:s.x,hideYDots:a.y,hideXDots:a.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:u,maxHiddenAxisDots:o-14,dotSize:n}),l.label=2;case 2:return this.clear(),this.drawBackground(),this.drawDots((function(t,e){var n,i,a,s,c,h;return!(d._options.imageOptions.hideBackgroundDots&&t>=(o-r.hideXDots)/2&&t<(o+r.hideXDots)/2&&e>=(o-r.hideYDots)/2&&e<(o+r.hideYDots)/2||(null===(n=g[t])||void 0===n?void 0:n[e])||(null===(i=g[t-o+7])||void 0===i?void 0:i[e])||(null===(a=g[t])||void 0===a?void 0:a[e-o+7])||(null===(s=x[t])||void 0===s?void 0:s[e])||(null===(c=x[t-o+7])||void 0===c?void 0:c[e])||(null===(h=x[t])||void 0===h?void 0:h[e-o+7]))})),this.drawCorners(),this._options.image&&this.drawImage({width:r.width,height:r.height,count:o,dotSize:n}),[2]}}))}))},t.prototype.drawBackground=function(){var t=this.context,o=this._options;if(t){if(o.backgroundOptions.gradient){var e=o.backgroundOptions.gradient,n=this._createGradient({context:t,options:e,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});e.colorStops.forEach((function(t){var o=t.offset,e=t.color;n.addColorStop(o,e)})),t.fillStyle=n}else o.backgroundOptions.color&&(t.fillStyle=o.backgroundOptions.color);t.fillRect(0,0,this._canvas.width,this._canvas.height)}},t.prototype.drawDots=function(t){var o=this;if(!this._qr)throw"QR code is not defined";var e=this.context;if(!e)throw"QR code is not defined";var n=this._options,r=this._qr.getModuleCount();if(r>n.width||r>n.height)throw"The canvas is too small.";var i=Math.min(n.width,n.height)-2*n.margin,a=Math.floor(i/r),s=Math.floor((n.width-r*a)/2),c=Math.floor((n.height-r*a)/2),u=new h({context:e,type:n.dotsOptions.type});e.beginPath();for(var d=function(e){for(var n=function(n){return t&&!t(e,n)?"continue":l._qr.isDark(e,n)?void u.draw(s+e*a,c+n*a,a,(function(i,a){return!(e+i<0||n+a<0||e+i>=r||n+a>=r)&&!(t&&!t(e+i,n+a))&&!!o._qr&&o._qr.isDark(e+i,n+a)})):"continue"},i=0;i<r;i++)n(i)},l=this,p=0;p<r;p++)d(p);if(n.dotsOptions.gradient){var f=n.dotsOptions.gradient,v=this._createGradient({context:e,options:f,additionalRotation:0,x:s,y:c,size:r*a});f.colorStops.forEach((function(t){var o=t.offset,e=t.color;v.addColorStop(o,e)})),e.fillStyle=e.strokeStyle=v}else n.dotsOptions.color&&(e.fillStyle=e.strokeStyle=n.dotsOptions.color);e.fill("evenodd")},t.prototype.drawCorners=function(t){var o=this;if(!this._qr)throw"QR code is not defined";var e=this.context;if(!e)throw"QR code is not defined";var n=this._options,r=this._qr.getModuleCount(),i=Math.min(n.width,n.height)-2*n.margin,a=Math.floor(i/r),s=7*a,c=3*a,u=Math.floor((n.width-r*a)/2),l=Math.floor((n.height-r*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((function(i){var f,v,y,_,w,b,M,O,m,P,S=i[0],z=i[1],I=i[2];if(!t||t(S,z)){var q=u+S*a*(r-7),D=l+z*a*(r-7);if(null===(f=n.cornersSquareOptions)||void 0===f?void 0:f.type){var k=new d({context:e,type:null===(v=n.cornersSquareOptions)||void 0===v?void 0:v.type});e.beginPath(),k.draw(q,D,s,I)}else{var R=new h({context:e,type:n.dotsOptions.type});e.beginPath();for(var C=function(t){for(var o=function(o){if(!(null===(y=g[t])||void 0===y?void 0:y[o]))return"continue";R.draw(q+t*a,D+o*a,a,(function(e,n){var r;return!!(null===(r=g[t+e])||void 0===r?void 0:r[o+n])}))},e=0;e<g[t].length;e++)o(e)},T=0;T<g.length;T++)C(T)}if(null===(_=n.cornersSquareOptions)||void 0===_?void 0:_.gradient){var j=n.cornersSquareOptions.gradient,E=o._createGradient({context:e,options:j,additionalRotation:I,x:q,y:D,size:s});j.colorStops.forEach((function(t){var o=t.offset,e=t.color;E.addColorStop(o,e)})),e.fillStyle=e.strokeStyle=E}else(null===(w=n.cornersSquareOptions)||void 0===w?void 0:w.color)&&(e.fillStyle=e.strokeStyle=n.cornersSquareOptions.color);if(e.fill("evenodd"),null===(b=n.cornersDotOptions)||void 0===b?void 0:b.type){var F=new p({context:e,type:null===(M=n.cornersDotOptions)||void 0===M?void 0:M.type});e.beginPath(),F.draw(q+2*a,D+2*a,c,I)}else{R=new h({context:e,type:n.dotsOptions.type}),e.beginPath();var N=function(t){for(var o=function(o){if(!(null===(O=x[t])||void 0===O?void 0:O[o]))return"continue";R.draw(q+t*a,D+o*a,a,(function(e,n){var r;return!!(null===(r=x[t+e])||void 0===r?void 0:r[o+n])}))},e=0;e<x[t].length;e++)o(e)};for(T=0;T<x.length;T++)N(T)}if(null===(m=n.cornersDotOptions)||void 0===m?void 0:m.gradient){j=n.cornersDotOptions.gradient;var B=o._createGradient({context:e,options:j,additionalRotation:I,x:q+2*a,y:D+2*a,size:c});j.colorStops.forEach((function(t){var o=t.offset,e=t.color;B.addColorStop(o,e)})),e.fillStyle=e.strokeStyle=B}else(null===(P=n.cornersDotOptions)||void 0===P?void 0:P.color)&&(e.fillStyle=e.strokeStyle=n.cornersDotOptions.color);e.fill("evenodd")}}))},t.prototype.loadImage=function(){return v(this,void 0,void 0,(function(){var t,o;return y(this,(function(e){switch(e.label){case 0:if(!(t=this._options).image)throw new Error("Image is not defined");return o=this,[4,(0,f.loadImage)(t.image)];case 1:return o._image=e.sent(),[2]}}))}))},t.prototype.drawImage=function(t){var o=t.width,e=t.height,n=t.count,r=t.dotSize,i=this.context;if(!i)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";var a=this._options,s=Math.floor((a.width-n*r)/2),c=Math.floor((a.height-n*r)/2),h=s+a.imageOptions.margin+(n*r-o)/2,u=c+a.imageOptions.margin+(n*r-e)/2,d=o-2*a.imageOptions.margin,l=e-2*a.imageOptions.margin;i.drawImage(this._image,h,u,d<0?0:d,l<0?0:l)},t.prototype._createGradient=function(t){var o,e=t.context,n=t.options,r=t.additionalRotation,i=t.x,a=t.y,s=t.size;if("radial"===n.type)o=e.createRadialGradient(i+s/2,a+s/2,0,i+s/2,a+s/2,s/2);else{var c=((n.rotation||0)+r)%(2*Math.PI),h=(c+2*Math.PI)%(2*Math.PI),u=i+s/2,d=a+s/2,l=i+s/2,p=a+s/2;h>=0&&h<=.25*Math.PI||h>1.75*Math.PI&&h<=2*Math.PI?(u-=s/2,d-=s/2*Math.tan(c),l+=s/2,p+=s/2*Math.tan(c)):h>.25*Math.PI&&h<=.75*Math.PI?(d-=s/2,u-=s/2/Math.tan(c),p+=s/2,l+=s/2/Math.tan(c)):h>.75*Math.PI&&h<=1.25*Math.PI?(u+=s/2,d+=s/2*Math.tan(c),l-=s/2,p-=s/2*Math.tan(c)):h>1.25*Math.PI&&h<=1.75*Math.PI&&(d+=s/2,u+=s/2/Math.tan(c),p-=s/2,l-=s/2/Math.tan(c)),o=e.createLinearGradient(Math.round(u),Math.round(d),Math.round(l),Math.round(p))}return o},t}();for(var w={},b=0;b<=40;b++)w[b]=b;const M={width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:w[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"}};var O=function(){return(O=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};function m(t){var o=O({},t);if(!o.colorStops||!o.colorStops.length)throw"Field 'colorStops' is required in gradient";return o.rotation?o.rotation=Number(o.rotation):o.rotation=0,o.colorStops=o.colorStops.map((function(t){return O(O({},t),{offset:Number(t.offset)})})),o}function P(t){var o=O({},t);return o.width=Number(o.width),o.height=Number(o.height),o.margin=Number(o.margin),o.imageOptions=O(O({},o.imageOptions),{hideBackgroundDots:Boolean(o.imageOptions.hideBackgroundDots),imageSize:Number(o.imageOptions.imageSize),margin:Number(o.imageOptions.margin)}),o.margin>Math.min(o.width,o.height)&&(o.margin=Math.min(o.width,o.height)),o.dotsOptions=O({},o.dotsOptions),o.dotsOptions.gradient&&(o.dotsOptions.gradient=m(o.dotsOptions.gradient)),o.cornersSquareOptions&&(o.cornersSquareOptions=O({},o.cornersSquareOptions),o.cornersSquareOptions.gradient&&(o.cornersSquareOptions.gradient=m(o.cornersSquareOptions.gradient))),o.cornersDotOptions&&(o.cornersDotOptions=O({},o.cornersDotOptions),o.cornersDotOptions.gradient&&(o.cornersDotOptions.gradient=m(o.cornersDotOptions.gradient))),o.backgroundOptions&&(o.backgroundOptions=O({},o.backgroundOptions),o.backgroundOptions.gradient&&(o.backgroundOptions.gradient=m(o.backgroundOptions.gradient))),o}const S=require("qrcode-generator");var z=e.n(S);const I=function(){function t(t){this._options=t?P(a(M,t)):M}return t.prototype.draw=function(t){return o=this,e=void 0,r=function(){return function(t,o){var e,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=o.call(t,a)}catch(t){i=[6,t],n=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(o){switch(o.label){case 0:if(this._options=t?P(a(this._options,t)):this._options,!this._options.data)throw new Error("Data isn`t defined");return this._qr=z()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._canvas=new _(this._options),[4,this._canvas.drawQR(this._qr)];case 1:return o.sent(),[2,this]}}))},new((n=void 0)||(n=Promise))((function(t,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(o){var e;o.done?t(o.value):(e=o.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(o,e||[])).next())}));var o,e,n,r},t.prototype.getCanvas=function(){var t;return null===(t=this._canvas)||void 0===t?void 0:t.getCanvas()},t.prototype.toPNGBuffer=function(t){var o;return null===(o=this._canvas)||void 0===o?void 0:o.getCanvas().toBuffer("image/png",t)},t.prototype.toSVGBuffer=function(){var t;return null===(t=this._canvas)||void 0===t?void 0:t.getCanvas().toBuffer()},t}()}},o={};function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{}};return t[n](r,r.exports,e),r.exports}return e.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},e.d=(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},e.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),e(423)})().default}));
//# sourceMappingURL=qr-code-styling.js.map