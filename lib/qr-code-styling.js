/*! For license information please see qr-code-styling.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QRCodeStyling=e():t.QRCodeStyling=e()}(this,(function(){return(()=>{var t={625:(t,e,r)=>{const n=r(520),o=r(245),i=r(75),a=r(850),s=r(160),u=r(944),c=r(747),h=r(595),f=r(876),l=r(685),d=r(578).DOMMatrix,p=r(578).DOMPoint;t.exports={Canvas:n,Context2d:i,CanvasRenderingContext2D:i,CanvasGradient:u.CanvasGradient,CanvasPattern:u.CanvasPattern,Image:o,ImageData:u.ImageData,PNGStream:h,PDFStream:f,JPEGStream:l,DOMMatrix:d,DOMPoint:p,registerFont:function(t,e){return n._registerFont(c.realpathSync(t),e)},parseFont:a,createCanvas:function(t,e,r){return new n(t,e,r)},createImageData:function(t,e,r){return new u.ImageData(t,e,r)},loadImage:function(t){return new Promise(((e,r)=>{const n=new o;function i(){n.onload=null,n.onerror=null}n.onload=()=>{i(),e(n)},n.onerror=t=>{i(),r(t)},n.src=t}))},backends:u.Backends,version:s.version,cairoVersion:u.cairoVersion,jpegVersion:u.jpegVersion,gifVersion:u.gifVersion?u.gifVersion.replace(/[^.\d]/g,""):void 0,freetypeVersion:u.freetypeVersion,rsvgVersion:u.rsvgVersion}},578:(t,e,r)=>{"use strict";const n=r(669);function o(t,e,r,n){if(!(this instanceof o))throw new TypeError("Class constructors cannot be invoked without 'new'");"object"==typeof t&&(n=t.w,r=t.z,e=t.y,t=t.x),this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0,this.z="number"==typeof r?r:0,this.w="number"==typeof n?n:1}const i=180/Math.PI,a=Math.PI/180;function s(t){var e=t.split(/\(/,1)[0];switch(e){case"matrix":return function(t){var e=t.replace(/matrix\(/,"");if(6!==(e=e.split(/,/,7)).length)throw new Error(`Failed to parse ${t}`);return[(e=e.map(parseFloat))[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}(t);case"matrix3d":return function(t){var e=t.replace(/matrix3d\(/,"");if(16!==(e=e.split(/,/,17)).length)throw new Error(`Failed to parse ${t}`);return e.map(parseFloat)}(t);default:throw new Error(`${e} parsing not implemented`)}}function u(t){if(!(this instanceof u))throw new TypeError("Class constructors cannot be invoked without 'new'");var e;if(this._is2D=!0,this._values=new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),"string"==typeof t){if(""===t)return;var r=t.split(/\)\s+/,20).map(s);if(0===r.length)return;for(t=r[0],e=1;e<r.length;e++)t=l(r[e],t)}if(e=0,t&&6===t.length)c(this,0,t[e++]),c(this,1,t[e++]),c(this,4,t[e++]),c(this,5,t[e++]),c(this,12,t[e++]),c(this,13,t[e++]);else if(t&&16===t.length)c(this,0,t[e++]),c(this,1,t[e++]),h(this,2,t[e++]),h(this,3,t[e++]),c(this,4,t[e++]),c(this,5,t[e++]),h(this,6,t[e++]),h(this,7,t[e++]),h(this,8,t[e++]),h(this,9,t[e++]),h(this,10,t[e++]),h(this,11,t[e++]),c(this,12,t[e++]),c(this,13,t[e++]),h(this,14,t[e++]),h(this,15,t[e]);else if(void 0!==t)throw new TypeError("Expected string or array.")}function c(t,e,r){if("number"!=typeof r)throw new TypeError("Expected number");return t._values[e]=r}function h(t,e,r){if("number"!=typeof r)throw new TypeError("Expected number");return 10===e||15===e?1!==r&&(t._is2D=!1):0!==r&&(t._is2D=!1),t._values[e]=r}function f(t){var e=Object.create(u.prototype);return e.constructor=u,e._is2D=!0,e._values=t,e}function l(t,e){for(var r=new Float64Array(16),n=0;n<4;n++)for(var o=0;o<4;o++){for(var i=0,a=0;a<4;a++)i+=t[4*n+a]*e[4*a+o];r[4*n+o]=i}return r}u.fromMatrix=function(t){if(!(t instanceof u))throw new TypeError("Expected DOMMatrix");return new u(t._values)},u.fromFloat32Array=function(t){if(!(t instanceof Float32Array))throw new TypeError("Expected Float32Array");return new u(t)},u.fromFloat64Array=function(t){if(!(t instanceof Float64Array))throw new TypeError("Expected Float64Array");return new u(t)},u.prototype[n.inspect.custom||"inspect"]=function(t,e){return t<0?"[DOMMatrix]":`DOMMatrix [\n    a: ${this.a}\n    b: ${this.b}\n    c: ${this.c}\n    d: ${this.d}\n    e: ${this.e}\n    f: ${this.f}\n    m11: ${this.m11}\n    m12: ${this.m12}\n    m13: ${this.m13}\n    m14: ${this.m14}\n    m21: ${this.m21}\n    m22: ${this.m22}\n    m23: ${this.m23}\n    m23: ${this.m23}\n    m31: ${this.m31}\n    m32: ${this.m32}\n    m33: ${this.m33}\n    m34: ${this.m34}\n    m41: ${this.m41}\n    m42: ${this.m42}\n    m43: ${this.m43}\n    m44: ${this.m44}\n    is2D: ${this.is2D}\n    isIdentity: ${this.isIdentity} ]`},u.prototype.toString=function(){return this.is2D?`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.e}, ${this.f})`:`matrix3d(${this._values.join(", ")})`},Object.defineProperties(u.prototype,{m11:{get:function(){return this._values[0]},set:function(t){return c(this,0,t)}},m12:{get:function(){return this._values[1]},set:function(t){return c(this,1,t)}},m13:{get:function(){return this._values[2]},set:function(t){return h(this,2,t)}},m14:{get:function(){return this._values[3]},set:function(t){return h(this,3,t)}},m21:{get:function(){return this._values[4]},set:function(t){return c(this,4,t)}},m22:{get:function(){return this._values[5]},set:function(t){return c(this,5,t)}},m23:{get:function(){return this._values[6]},set:function(t){return h(this,6,t)}},m24:{get:function(){return this._values[7]},set:function(t){return h(this,7,t)}},m31:{get:function(){return this._values[8]},set:function(t){return h(this,8,t)}},m32:{get:function(){return this._values[9]},set:function(t){return h(this,9,t)}},m33:{get:function(){return this._values[10]},set:function(t){return h(this,10,t)}},m34:{get:function(){return this._values[11]},set:function(t){return h(this,11,t)}},m41:{get:function(){return this._values[12]},set:function(t){return c(this,12,t)}},m42:{get:function(){return this._values[13]},set:function(t){return c(this,13,t)}},m43:{get:function(){return this._values[14]},set:function(t){return h(this,14,t)}},m44:{get:function(){return this._values[15]},set:function(t){return h(this,15,t)}},a:{get:function(){return this.m11},set:function(t){return this.m11=t}},b:{get:function(){return this.m12},set:function(t){return this.m12=t}},c:{get:function(){return this.m21},set:function(t){return this.m21=t}},d:{get:function(){return this.m22},set:function(t){return this.m22=t}},e:{get:function(){return this.m41},set:function(t){return this.m41=t}},f:{get:function(){return this.m42},set:function(t){return this.m42=t}},is2D:{get:function(){return this._is2D}},isIdentity:{get:function(){var t=this._values;return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}}}),u.prototype.multiply=function(t){return f(this._values).multiplySelf(t)},u.prototype.multiplySelf=function(t){return this._values=l(t._values,this._values),t.is2D||(this._is2D=!1),this},u.prototype.preMultiplySelf=function(t){return this._values=l(this._values,t._values),t.is2D||(this._is2D=!1),this},u.prototype.translate=function(t,e,r){return f(this._values).translateSelf(t,e,r)},u.prototype.translateSelf=function(t,e,r){return"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0),"number"!=typeof r&&(r=0),this._values=l([1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1],this._values),0!==r&&(this._is2D=!1),this},u.prototype.scale=function(t,e,r,n,o,i){return f(this._values).scaleSelf(t,e,r,n,o,i)},u.prototype.scale3d=function(t,e,r,n){return f(this._values).scale3dSelf(t,e,r,n)},u.prototype.scale3dSelf=function(t,e,r,n){return this.scaleSelf(t,t,t,e,r,n)},u.prototype.scaleSelf=function(t,e,r,n,o,i){return"number"!=typeof n&&(n=0),"number"!=typeof o&&(o=0),"number"!=typeof i&&(i=0),this.translateSelf(n,o,i),"number"!=typeof t&&(t=1),"number"!=typeof e&&(e=t),"number"!=typeof r&&(r=1),this._values=l([t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1],this._values),this.translateSelf(-n,-o,-i),1===r&&0===i||(this._is2D=!1),this},u.prototype.rotateFromVector=function(t,e){return f(this._values).rotateFromVectorSelf(t,e)},u.prototype.rotateFromVectorSelf=function(t,e){"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0);var r=0===t&&0===e?0:Math.atan2(e,t)*i;return this.rotateSelf(r)},u.prototype.rotate=function(t,e,r){return f(this._values).rotateSelf(t,e,r)},u.prototype.rotateSelf=function(t,e,r){var n,o;return void 0===e&&void 0===r&&(r=t,t=e=0),"number"!=typeof e&&(e=0),"number"!=typeof r&&(r=0),0===t&&0===e||(this._is2D=!1),t*=a,e*=a,r*=a,n=Math.cos(r),o=Math.sin(r),this._values=l([n,o,0,0,-o,n,0,0,0,0,1,0,0,0,0,1],this._values),n=Math.cos(e),o=Math.sin(e),this._values=l([n,0,-o,0,0,1,0,0,o,0,n,0,0,0,0,1],this._values),n=Math.cos(t),o=Math.sin(t),this._values=l([1,0,0,0,0,n,o,0,0,-o,n,0,0,0,0,1],this._values),this},u.prototype.rotateAxisAngle=function(t,e,r,n){return f(this._values).rotateAxisAngleSelf(t,e,r,n)},u.prototype.rotateAxisAngleSelf=function(t,e,r,n){"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0),"number"!=typeof r&&(r=0);var o=Math.sqrt(t*t+e*e+r*r);if(0===o)return this;1!==o&&(t/=o,e/=o,r/=o),n*=a;var i=Math.cos(n),s=Math.sin(n),u=1-i,c=u*t,h=u*e;return this._values=l([c*t+i,c*e+s*r,c*r-s*e,0,c*e-s*r,h*e+i,h*r+s*t,0,c*r+s*e,h*r-s*t,u*r*r+i,0,0,0,0,1],this._values),0===t&&0===e||(this._is2D=!1),this},u.prototype.skewX=function(t){return f(this._values).skewXSelf(t)},u.prototype.skewXSelf=function(t){if("number"!=typeof t)return this;var e=Math.tan(t*a);return this._values=l([1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1],this._values),this},u.prototype.skewY=function(t){return f(this._values).skewYSelf(t)},u.prototype.skewYSelf=function(t){if("number"!=typeof t)return this;var e=Math.tan(t*a);return this._values=l([1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._values),this},u.prototype.flipX=function(){return f(l([-1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._values))},u.prototype.flipY=function(){return f(l([1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],this._values))},u.prototype.inverse=function(){return f(this._values).invertSelf()},u.prototype.invertSelf=function(){throw new Error("Not implemented")},u.prototype.setMatrixValue=function(t){var e=new u(t);return this._values=e._values,this._is2D=e._is2D,this},u.prototype.transformPoint=function(t){var e=(t=new o(t)).x,r=t.y,n=t.z,i=t.w,a=this._values;return new o(a[0]*e+a[4]*r+a[8]*n+a[12]*i,a[1]*e+a[5]*r+a[9]*n+a[13]*i,a[2]*e+a[6]*r+a[10]*n+a[14]*i,a[3]*e+a[7]*r+a[11]*n+a[15]*i)},u.prototype.toFloat32Array=function(){return Float32Array.from(this._values)},u.prototype.toFloat64Array=function(){return this._values.slice(0)},t.exports={DOMMatrix:u,DOMPoint:o}},944:(t,e,r)=>{"use strict";t.exports=r(571)},520:(t,e,r)=>{"use strict";const n=r(944),o=t.exports=n.Canvas,i=r(75),a=r(595),s=r(876),u=r(685),c=["image/png","image/jpeg"],h=r(669);o.prototype[h.inspect.custom||"inspect"]=function(){return`[Canvas ${this.width}x${this.height}]`},o.prototype.getContext=function(t,e){if("2d"==t){var r=this._context2d||(this._context2d=new i(this,e));return this.context=r,r.canvas=this,r}},o.prototype.pngStream=o.prototype.createPNGStream=function(t){return new a(this,t)},o.prototype.pdfStream=o.prototype.createPDFStream=function(t){return new s(this,t)},o.prototype.jpegStream=o.prototype.createJPEGStream=function(t){return new u(this,t)},o.prototype.toDataURL=function(t,e,r){var n,o="image/png",i={};if("function"==typeof t)n=t;else if("string"==typeof t&&c.includes(t.toLowerCase())&&(o=t.toLowerCase()),"function"==typeof e)n=e;else if("object"==typeof e?i=e:"number"==typeof e&&(i={quality:Math.max(0,Math.min(1,e))}),"function"==typeof r)n=r;else if(void 0!==r)throw new TypeError(typeof r+" is not a function");if(0===this.width||0===this.height){var a="data:,";return n?void setTimeout((()=>n(null,a))):a}if(!n)return`data:${o};base64,${this.toBuffer(o,i).toString("base64")}`;this.toBuffer(((t,e)=>{if(t)return n(t);n(null,`data:${o};base64,${e.toString("base64")}`)}),o,i)}},75:(t,e,r)=>{"use strict";const n=r(944),o=r(850),{DOMMatrix:i}=r(578);n.CanvasRenderingContext2dInit(i,o),t.exports=n.CanvasRenderingContext2d},245:(t,e,r)=>{"use strict";const n=r(944),o=t.exports=n.Image,i=r(669);let a;const{GetSource:s,SetSource:u}=n;function c(t,e,r){u.call(t,e),t._originalSource=r}Object.defineProperty(o.prototype,"src",{set(t){if("string"==typeof t)if(/^\s*data:/.test(t)){const e=t.indexOf(","),r=-1!==t.lastIndexOf("base64",e),n=t.slice(e+1);c(this,Buffer.from(n,r?"base64":"utf8"),t)}else if(/^\s*https?:\/\//.test(t)){const e=t=>{if("function"!=typeof this.onerror)throw t;this.onerror(t)};a||(a=r(993)),a.concat(t,((t,r,n)=>t?e(t):r.statusCode<200||r.statusCode>=300?e(new Error(`Server responded with ${r.statusCode}`)):void c(this,n)))}else c(this,t);else Buffer.isBuffer(t)&&c(this,t)},get(){return this._originalSource||s.call(this)},configurable:!0}),o.prototype[i.inspect.custom||"inspect"]=function(){return"[Image"+(this.complete?":"+this.width+"x"+this.height:"")+(this.src?" "+this.src:"")+(this.complete?" complete":"")+"]"}},685:(t,e,r)=>{"use strict";var n=r(413).Readable,o=r(669),i=t.exports=function t(e,r){if(!(this instanceof t))throw new TypeError("Class constructors cannot be invoked without 'new'");if(void 0===e.streamJPEGSync)throw new Error("node-canvas was built without JPEG support.");n.call(this),this.options=r,this.canvas=e};function a(){}o.inherits(i,n),i.prototype._read=function(){this._read=a;var t=this;t.canvas.streamJPEGSync(this.options,(function(e,r){e?t.emit("error",e):r?t.push(r):t.push(null)}))}},850:t=>{"use strict";const e="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",r=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),n=new RegExp("(italic|oblique) +","i"),o=new RegExp("(small-caps) +","i"),i=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),a=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+e+")( *, *(?:"+e+"))*)"),s={};t.exports=function(t){if(s[t])return s[t];const e=a.exec(t);if(!e)return;const u={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let c,h,f,l,d=t.substring(0,e.index);switch((c=r.exec(d))&&(u.weight=c[1]),(h=n.exec(d))&&(u.style=h[1]),(f=o.exec(d))&&(u.variant=f[1]),(l=i.exec(d))&&(u.stretch=l[1]),u.unit){case"pt":u.size/=.75;break;case"pc":u.size*=16;break;case"in":u.size*=96;break;case"cm":u.size*=96/2.54;break;case"mm":u.size*=96/25.4;break;case"%":break;case"em":case"rem":u.size*=16/.75;break;case"q":u.size*=96/25.4/4}return s[t]=u}},876:(t,e,r)=>{"use strict";var n=r(413).Readable,o=r(669),i=t.exports=function t(e,r){if(!(this instanceof t))throw new TypeError("Class constructors cannot be invoked without 'new'");n.call(this),this.canvas=e,this.options=r};function a(){}o.inherits(i,n),i.prototype._read=function(){this._read=a;var t=this;t.canvas.streamPDFSync((function(e,r,n){e?t.emit("error",e):n?t.push(r):t.push(null)}),this.options)}},595:(t,e,r)=>{"use strict";var n=r(413).Readable,o=r(669),i=t.exports=function t(e,r){if(!(this instanceof t))throw new TypeError("Class constructors cannot be invoked without 'new'");if(n.call(this),r&&r.palette instanceof Uint8ClampedArray&&r.palette.length%4!=0)throw new Error("Palette length must be a multiple of 4.");this.canvas=e,this.options=r||{}};function a(){}o.inherits(i,n),i.prototype._read=function(){this._read=a;var t=this;t.canvas.streamPNGSync((function(e,r,n){e?t.emit("error",e):n?t.push(r):t.push(null)}),t.options)}},160:t=>{"use strict";t.exports=JSON.parse('{"_from":"canvas","_id":"canvas@2.7.0","_inBundle":false,"_integrity":"sha512-pzCxtkHb+5su5MQjTtepMDlIOtaXo277x0C0u3nMOxtkhTyQ+h2yNKhlROAaDllWgRyePAUitC08sXw26Eb6aw==","_location":"/canvas","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"canvas","name":"canvas","escapedName":"canvas","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/canvas/-/canvas-2.7.0.tgz","_shasum":"3ce3fe30c69595ccd2bd1232967e681c026be61e","_spec":"canvas","_where":"/home/zapanikoval/IdeaProjects/qr-code-styling","author":{"name":"TJ Holowaychuk","email":"tj@learnboost.com"},"binary":{"module_name":"canvas","module_path":"build/Release","host":"https://github.com/Automattic/node-canvas/releases/download/","remote_path":"v{version}","package_name":"{module_name}-v{version}-{node_abi}-{platform}-{libc}-{arch}.tar.gz"},"browser":"browser.js","bugs":{"url":"https://github.com/Automattic/node-canvas/issues"},"bundleDependencies":false,"contributors":[{"name":"Nathan Rajlich","email":"nathan@tootallnate.net"},{"name":"Rod Vagg","email":"r@va.gg"},{"name":"Juriy Zaytsev","email":"kangax@gmail.com"}],"dependencies":{"nan":"^2.14.0","node-pre-gyp":"^0.15.0","simple-get":"^3.0.3"},"deprecated":false,"description":"Canvas graphics API backed by Cairo","devDependencies":{"@types/node":"^10.12.18","assert-rejects":"^1.0.0","dtslint":"^0.5.3","express":"^4.16.3","mocha":"^5.2.0","pixelmatch":"^4.0.2","standard":"^12.0.1"},"engines":{"node":">=6"},"files":["binding.gyp","lib/","src/","util/","types/index.d.ts"],"homepage":"https://github.com/Automattic/node-canvas","keywords":["canvas","graphic","graphics","pixman","cairo","image","images","pdf"],"license":"MIT","main":"index.js","name":"canvas","repository":{"type":"git","url":"git://github.com/Automattic/node-canvas.git"},"scripts":{"benchmark":"node benchmarks/run.js","dtslint":"dtslint types","install":"node-pre-gyp install --fallback-to-build","lint":"standard examples/*.js test/server.js test/public/*.js benchmarks/run.js lib/context2d.js util/has_lib.js browser.js index.js","prebenchmark":"node-gyp build","pretest-server":"node-gyp build","test":"mocha test/*.test.js","test-server":"node test/server.js"},"types":"types/index.d.ts","version":"2.7.0"}')},346:(t,e,r)=>{"use strict";const{PassThrough:n}=r(413),o=r(761),i=r(344),a=t=>{const e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;const r="br"===e;if(r&&"function"!=typeof o.createBrotliDecompress)return t;const a=r?o.createBrotliDecompress():o.createUnzip(),s=new n;return i(t,s),a.on("error",(t=>{"Z_BUF_ERROR"!==t.code?s.emit("error",t):s.end()})),t.pipe(a).pipe(s),s};t.exports=a,t.exports.default=a},344:t=>{"use strict";const e=["aborted","complete","destroy","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];t.exports=(t,r)=>{const n=new Set(Object.keys(t).concat(e));for(const e of n)e in r||(r[e]="function"==typeof t[e]?t[e].bind(t):t[e]);return r}},571:(t,e,r)=>{t=r.nmd(t);try{process.dlopen(t,__dirname+r(622).sep+r.p+"b42e2126ae090433866d154ff77acdc3.node")}catch(t){throw new Error("node-loader:\n"+t)}},778:(t,e,r)=>{var n=r(479);function o(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function i(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(o),t.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},192:(t,e)=>{var r,n,o=function(){var t=function(t,e){var r=t,n=a[e],o=null,i=0,u=null,v=[],y={},w=function(t,e){o=function(t){for(var e=new Array(t),r=0;r<t;r+=1){e[r]=new Array(t);for(var n=0;n<t;n+=1)e[r][n]=null}return e}(i=4*r+17),x(0,0),x(i-7,0),x(0,i-7),_(),b(),S(t,e),r>=7&&M(t),null==u&&(u=C(r,n,v)),k(u,e)},x=function(t,e){for(var r=-1;r<=7;r+=1)if(!(t+r<=-1||i<=t+r))for(var n=-1;n<=7;n+=1)e+n<=-1||i<=e+n||(o[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},b=function(){for(var t=8;t<i-8;t+=1)null==o[t][6]&&(o[t][6]=t%2==0);for(var e=8;e<i-8;e+=1)null==o[6][e]&&(o[6][e]=e%2==0)},_=function(){for(var t=s.getPatternPosition(r),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var i=t[e],a=t[n];if(null==o[i][a])for(var u=-2;u<=2;u+=1)for(var c=-2;c<=2;c+=1)o[i+u][a+c]=-2==u||2==u||-2==c||2==c||0==u&&0==c}},M=function(t){for(var e=s.getBCHTypeNumber(r),n=0;n<18;n+=1){var a=!t&&1==(e>>n&1);o[Math.floor(n/3)][n%3+i-8-3]=a}for(n=0;n<18;n+=1)a=!t&&1==(e>>n&1),o[n%3+i-8-3][Math.floor(n/3)]=a},S=function(t,e){for(var r=n<<3|e,a=s.getBCHTypeInfo(r),u=0;u<15;u+=1){var c=!t&&1==(a>>u&1);u<6?o[u][8]=c:u<8?o[u+1][8]=c:o[i-15+u][8]=c}for(u=0;u<15;u+=1)c=!t&&1==(a>>u&1),u<8?o[8][i-u-1]=c:u<9?o[8][15-u-1+1]=c:o[8][15-u-1]=c;o[i-8][8]=!t},k=function(t,e){for(var r=-1,n=i-1,a=7,u=0,c=s.getMaskFunction(e),h=i-1;h>0;h-=2)for(6==h&&(h-=1);;){for(var f=0;f<2;f+=1)if(null==o[n][h-f]){var l=!1;u<t.length&&(l=1==(t[u]>>>a&1)),c(n,h-f)&&(l=!l),o[n][h-f]=l,-1==(a-=1)&&(u+=1,a=7)}if((n+=r)<0||i<=n){n-=r,r=-r;break}}},C=function(t,e,r){for(var n=h.getRSBlocks(t,e),o=f(),i=0;i<r.length;i+=1){var a=r[i];o.put(a.getMode(),4),o.put(a.getLength(),s.getLengthInBits(a.getMode(),t)),a.write(o)}var u=0;for(i=0;i<n.length;i+=1)u+=n[i].dataCount;if(o.getLengthInBits()>8*u)throw"code length overflow. ("+o.getLengthInBits()+">"+8*u+")";for(o.getLengthInBits()+4<=8*u&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*u||(o.put(236,8),o.getLengthInBits()>=8*u));)o.put(17,8);return function(t,e){for(var r=0,n=0,o=0,i=new Array(e.length),a=new Array(e.length),u=0;u<e.length;u+=1){var h=e[u].dataCount,f=e[u].totalCount-h;n=Math.max(n,h),o=Math.max(o,f),i[u]=new Array(h);for(var l=0;l<i[u].length;l+=1)i[u][l]=255&t.getBuffer()[l+r];r+=h;var d=s.getErrorCorrectPolynomial(f),p=c(i[u],d.getLength()-1).mod(d);for(a[u]=new Array(d.getLength()-1),l=0;l<a[u].length;l+=1){var g=l+p.getLength()-a[u].length;a[u][l]=g>=0?p.getAt(g):0}}var v=0;for(l=0;l<e.length;l+=1)v+=e[l].totalCount;var y=new Array(v),m=0;for(l=0;l<n;l+=1)for(u=0;u<e.length;u+=1)l<i[u].length&&(y[m]=i[u][l],m+=1);for(l=0;l<o;l+=1)for(u=0;u<e.length;u+=1)l<a[u].length&&(y[m]=a[u][l],m+=1);return y}(o,n)};y.addData=function(t,e){var r=null;switch(e=e||"Byte"){case"Numeric":r=l(t);break;case"Alphanumeric":r=d(t);break;case"Byte":r=p(t);break;case"Kanji":r=g(t);break;default:throw"mode:"+e}v.push(r),u=null},y.isDark=function(t,e){if(t<0||i<=t||e<0||i<=e)throw t+","+e;return o[t][e]},y.getModuleCount=function(){return i},y.make=function(){if(r<1){for(var t=1;t<40;t++){for(var e=h.getRSBlocks(t,n),o=f(),i=0;i<v.length;i++){var a=v[i];o.put(a.getMode(),4),o.put(a.getLength(),s.getLengthInBits(a.getMode(),t)),a.write(o)}var u=0;for(i=0;i<e.length;i++)u+=e[i].dataCount;if(o.getLengthInBits()<=8*u)break}r=t}w(!1,function(){for(var t=0,e=0,r=0;r<8;r+=1){w(!0,r);var n=s.getLostPoint(y);(0==r||t>n)&&(t=n,e=r)}return e}())},y.createTableTag=function(t,e){t=t||2;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",r+='">',r+="<tbody>";for(var n=0;n<y.getModuleCount();n+=1){r+="<tr>";for(var o=0;o<y.getModuleCount();o+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+t+"px;",r+=" height: "+t+"px;",r+=" background-color: ",r+=y.isDark(n,o)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return(r+="</tbody>")+"</table>"},y.createSvgTag=function(t,e,r,n){var o={};"object"==typeof arguments[0]&&(t=(o=arguments[0]).cellSize,e=o.margin,r=o.alt,n=o.title),t=t||2,e=void 0===e?4*t:e,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-description":null,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-title":null;var i,a,s,u,c=y.getModuleCount()*t+2*e,h="";for(u="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",h+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',h+=o.scalable?"":' width="'+c+'px" height="'+c+'px"',h+=' viewBox="0 0 '+c+" "+c+'" ',h+=' preserveAspectRatio="xMinYMin meet"',h+=n.text||r.text?' role="img" aria-labelledby="'+D([n.id,r.id].join(" ").trim())+'"':"",h+=">",h+=n.text?'<title id="'+D(n.id)+'">'+D(n.text)+"</title>":"",h+=r.text?'<description id="'+D(r.id)+'">'+D(r.text)+"</description>":"",h+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',h+='<path d="',a=0;a<y.getModuleCount();a+=1)for(s=a*t+e,i=0;i<y.getModuleCount();i+=1)y.isDark(a,i)&&(h+="M"+(i*t+e)+","+s+u);return(h+='" stroke="transparent" fill="black"/>')+"</svg>"},y.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;var r=y.getModuleCount()*t+2*e,n=e,o=r-e;return m(r,r,(function(e,r){if(n<=e&&e<o&&n<=r&&r<o){var i=Math.floor((e-n)/t),a=Math.floor((r-n)/t);return y.isDark(a,i)?0:1}return 1}))},y.createImgTag=function(t,e,r){t=t||2,e=void 0===e?4*t:e;var n=y.getModuleCount()*t+2*e,o="";return o+="<img",o+=' src="',o+=y.createDataURL(t,e),o+='"',o+=' width="',o+=n,o+='"',o+=' height="',o+=n,o+='"',r&&(o+=' alt="',o+=D(r),o+='"'),o+"/>"};var D=function(t){for(var e="",r=0;r<t.length;r+=1){var n=t.charAt(r);switch(n){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=n}}return e};return y.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;var e,r,n,o,i,a=1*y.getModuleCount()+2*t,s=t,u=a-t,c={"██":"█","█ ":"▀"," █":"▄","  ":" "},h={"██":"▀","█ ":"▀"," █":" ","  ":" "},f="";for(e=0;e<a;e+=2){for(n=Math.floor((e-s)/1),o=Math.floor((e+1-s)/1),r=0;r<a;r+=1)i="█",s<=r&&r<u&&s<=e&&e<u&&y.isDark(n,Math.floor((r-s)/1))&&(i=" "),s<=r&&r<u&&s<=e+1&&e+1<u&&y.isDark(o,Math.floor((r-s)/1))?i+=" ":i+="█",f+=t<1&&e+1>=u?h[i]:c[i];f+="\n"}return a%2&&t>0?f.substring(0,f.length-a-1)+Array(a+1).join("▀"):f.substring(0,f.length-1)}(e);t-=1,e=void 0===e?2*t:e;var r,n,o,i,a=y.getModuleCount()*t+2*e,s=e,u=a-e,c=Array(t+1).join("██"),h=Array(t+1).join("  "),f="",l="";for(r=0;r<a;r+=1){for(o=Math.floor((r-s)/t),l="",n=0;n<a;n+=1)i=1,s<=n&&n<u&&s<=r&&r<u&&y.isDark(o,Math.floor((n-s)/t))&&(i=0),l+=i?c:h;for(o=0;o<t;o+=1)f+=l+"\n"}return f.substring(0,f.length-1)},y.renderTo2dContext=function(t,e){e=e||2;for(var r=y.getModuleCount(),n=0;n<r;n++)for(var o=0;o<r;o++)t.fillStyle=y.isDark(n,o)?"black":"white",t.fillRect(n*e,o*e,e,e)},y};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],r=0;r<t.length;r+=1){var n=t.charCodeAt(r);e.push(255&n)}return e}}).default,t.createStringToBytes=function(t,e){var r=function(){for(var r=y(t),n=function(){var t=r.read();if(-1==t)throw"eof";return t},o=0,i={};;){var a=r.read();if(-1==a)break;var s=n(),u=n()<<8|n();i[String.fromCharCode(a<<8|s)]=u,o+=1}if(o!=e)throw o+" != "+e;return i}(),n="?".charCodeAt(0);return function(t){for(var e=[],o=0;o<t.length;o+=1){var i=t.charCodeAt(o);if(i<128)e.push(i);else{var a=r[t.charAt(o)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(n)}}return e}};var e,r,n,o,i,a={L:1,M:0,Q:3,H:2},s=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=1335,n=7973,i=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(o={}).getBCHTypeInfo=function(t){for(var e=t<<10;i(e)-i(r)>=0;)e^=r<<i(e)-i(r);return 21522^(t<<10|e)},o.getBCHTypeNumber=function(t){for(var e=t<<12;i(e)-i(n)>=0;)e^=n<<i(e)-i(n);return t<<12|e},o.getPatternPosition=function(t){return e[t-1]},o.getMaskFunction=function(t){switch(t){case 0:return function(t,e){return(t+e)%2==0};case 1:return function(t,e){return t%2==0};case 2:return function(t,e){return e%3==0};case 3:return function(t,e){return(t+e)%3==0};case 4:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case 5:return function(t,e){return t*e%2+t*e%3==0};case 6:return function(t,e){return(t*e%2+t*e%3)%2==0};case 7:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},o.getErrorCorrectPolynomial=function(t){for(var e=c([1],0),r=0;r<t;r+=1)e=e.multiply(c([1,u.gexp(r)],0));return e},o.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},o.getLostPoint=function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n+=1)for(var o=0;o<e;o+=1){for(var i=0,a=t.isDark(n,o),s=-1;s<=1;s+=1)if(!(n+s<0||e<=n+s))for(var u=-1;u<=1;u+=1)o+u<0||e<=o+u||0==s&&0==u||a==t.isDark(n+s,o+u)&&(i+=1);i>5&&(r+=3+i-5)}for(n=0;n<e-1;n+=1)for(o=0;o<e-1;o+=1){var c=0;t.isDark(n,o)&&(c+=1),t.isDark(n+1,o)&&(c+=1),t.isDark(n,o+1)&&(c+=1),t.isDark(n+1,o+1)&&(c+=1),0!=c&&4!=c||(r+=3)}for(n=0;n<e;n+=1)for(o=0;o<e-6;o+=1)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(r+=40);for(o=0;o<e;o+=1)for(n=0;n<e-6;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(r+=40);var h=0;for(o=0;o<e;o+=1)for(n=0;n<e;n+=1)t.isDark(n,o)&&(h+=1);return r+Math.abs(100*h/e/e-50)/5*10},o),u=function(){for(var t=new Array(256),e=new Array(256),r=0;r<8;r+=1)t[r]=1<<r;for(r=8;r<256;r+=1)t[r]=t[r-4]^t[r-5]^t[r-6]^t[r-8];for(r=0;r<255;r+=1)e[t[r]]=r;return{glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}}}();function c(t,e){if(void 0===t.length)throw t.length+"/"+e;var r=function(){for(var r=0;r<t.length&&0==t[r];)r+=1;for(var n=new Array(t.length-r+e),o=0;o<t.length-r;o+=1)n[o]=t[o+r];return n}(),n={getAt:function(t){return r[t]},getLength:function(){return r.length},multiply:function(t){for(var e=new Array(n.getLength()+t.getLength()-1),r=0;r<n.getLength();r+=1)for(var o=0;o<t.getLength();o+=1)e[r+o]^=u.gexp(u.glog(n.getAt(r))+u.glog(t.getAt(o)));return c(e,0)},mod:function(t){if(n.getLength()-t.getLength()<0)return n;for(var e=u.glog(n.getAt(0))-u.glog(t.getAt(0)),r=new Array(n.getLength()),o=0;o<n.getLength();o+=1)r[o]=n.getAt(o);for(o=0;o<t.getLength();o+=1)r[o]^=u.gexp(u.glog(t.getAt(o))+e);return c(r,0).mod(t)}};return n}var h=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var r={};return r.totalCount=t,r.dataCount=e,r},r={getRSBlocks:function(r,n){var o=function(e,r){switch(r){case a.L:return t[4*(e-1)+0];case a.M:return t[4*(e-1)+1];case a.Q:return t[4*(e-1)+2];case a.H:return t[4*(e-1)+3];default:return}}(r,n);if(void 0===o)throw"bad rs block @ typeNumber:"+r+"/errorCorrectionLevel:"+n;for(var i=o.length/3,s=[],u=0;u<i;u+=1)for(var c=o[3*u+0],h=o[3*u+1],f=o[3*u+2],l=0;l<c;l+=1)s.push(e(h,f));return s}};return r}(),f=function(){var t=[],e=0,r={getBuffer:function(){return t},getAt:function(e){var r=Math.floor(e/8);return 1==(t[r]>>>7-e%8&1)},put:function(t,e){for(var n=0;n<e;n+=1)r.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return e},putBit:function(r){var n=Math.floor(e/8);t.length<=n&&t.push(0),r&&(t[n]|=128>>>e%8),e+=1}};return r},l=function(t){var e=t,r={getMode:function(){return 1},getLength:function(t){return e.length},write:function(t){for(var r=e,o=0;o+2<r.length;)t.put(n(r.substring(o,o+3)),10),o+=3;o<r.length&&(r.length-o==1?t.put(n(r.substring(o,o+1)),4):r.length-o==2&&t.put(n(r.substring(o,o+2)),7))}},n=function(t){for(var e=0,r=0;r<t.length;r+=1)e=10*e+o(t.charAt(r));return e},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return r},d=function(t){var e=t,r={getMode:function(){return 2},getLength:function(t){return e.length},write:function(t){for(var r=e,o=0;o+1<r.length;)t.put(45*n(r.charAt(o))+n(r.charAt(o+1)),11),o+=2;o<r.length&&t.put(n(r.charAt(o)),6)}},n=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return r},p=function(e){var r=t.stringToBytes(e);return{getMode:function(){return 4},getLength:function(t){return r.length},write:function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)}}},g=function(e){var r=t.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(t,e){var n=r("友");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var n=r(e);return{getMode:function(){return 8},getLength:function(t){return~~(n.length/2)},write:function(t){for(var e=n,r=0;r+1<e.length;){var o=(255&e[r])<<8|255&e[r+1];if(33088<=o&&o<=40956)o-=33088;else{if(!(57408<=o&&o<=60351))throw"illegal char at "+(r+1)+"/"+o;o-=49472}o=192*(o>>>8&255)+(255&o),t.put(o,13),r+=2}if(r<e.length)throw"illegal char at "+(r+1)}}},v=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,r,n){r=r||0,n=n||t.length;for(var o=0;o<n;o+=1)e.writeByte(t[o+r])},writeString:function(t){for(var r=0;r<t.length;r+=1)e.writeByte(t.charCodeAt(r))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var r=0;r<t.length;r+=1)r>0&&(e+=","),e+=t[r];return e+"]"}};return e},y=function(t){var e=t,r=0,n=0,o=0,i={read:function(){for(;o<8;){if(r>=e.length){if(0==o)return-1;throw"unexpected end of file./"+o}var t=e.charAt(r);if(r+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(n=n<<6|a(t.charCodeAt(0)),o+=6)}var i=n>>>o-8&255;return o-=8,i}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return i},m=function(t,e,r){for(var n=function(t,e){var r=t,n=e,o=new Array(t*e),i={setPixel:function(t,e,n){o[e*r+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(r),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(r),t.writeShort(n),t.writeByte(0);var e=a(2);t.writeByte(2);for(var o=0;e.length-o>255;)t.writeByte(255),t.writeBytes(e,o,255),o+=255;t.writeByte(e.length-o),t.writeBytes(e,o,e.length-o),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,r=1+(1<<t),n=t+1,i=s(),a=0;a<e;a+=1)i.add(String.fromCharCode(a));i.add(String.fromCharCode(e)),i.add(String.fromCharCode(r));var u,c,h,f=v(),l=(u=f,c=0,h=0,{write:function(t,e){if(t>>>e!=0)throw"length over";for(;c+e>=8;)u.writeByte(255&(t<<c|h)),e-=8-c,t>>>=8-c,h=0,c=0;h|=t<<c,c+=e},flush:function(){c>0&&u.writeByte(h)}});l.write(e,n);var d=0,p=String.fromCharCode(o[d]);for(d+=1;d<o.length;){var g=String.fromCharCode(o[d]);d+=1,i.contains(p+g)?p+=g:(l.write(i.indexOf(p),n),i.size()<4095&&(i.size()==1<<n&&(n+=1),i.add(p+g)),p=g)}return l.write(i.indexOf(p),n),l.write(r,n),l.flush(),f.toByteArray()},s=function(){var t={},e=0,r={add:function(n){if(r.contains(n))throw"dup key:"+n;t[n]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return r};return i}(t,e),o=0;o<e;o+=1)for(var i=0;i<t;i+=1)n.setPixel(i,o,r(i,o));var a=v();n.write(a);for(var s=function(){var t=0,e=0,r=0,n="",o={},i=function(t){n+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return o.writeByte=function(n){for(t=t<<8|255&n,e+=8,r+=1;e>=6;)i(t>>>e-6),e-=6},o.flush=function(){if(e>0&&(i(t<<6-e),t=0,e=0),r%3!=0)for(var o=3-r%3,a=0;a<o;a+=1)n+="="},o.toString=function(){return n},o}(),u=a.toByteArray(),c=0;c<u.length;c+=1)s.writeByte(u[c]);return s.flush(),"data:image/gif;base64,"+s};return t}();o.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}(t)},void 0===(n="function"==typeof(r=function(){return o})?r.apply(e,[]):r)||(t.exports=n)},485:t=>{t.exports=function(t,e){var r=[];t.on("data",(function(t){r.push(t)})),t.once("end",(function(){e&&e(null,Buffer.concat(r)),e=null})),t.once("error",(function(t){e&&e(t),e=null}))}},993:(t,e,r)=>{t.exports=f;const n=r(485),o=r(346),i=r(605),a=r(211),s=r(778),u=r(191),c=r(835),h=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;function f(t,e){if(t=Object.assign({maxRedirects:10},"string"==typeof t?{url:t}:t),e=s(e),t.url){const{hostname:e,port:r,protocol:n,auth:o,path:i}=c.parse(t.url);delete t.url,e||r||n||o?Object.assign(t,{hostname:e,port:r,protocol:n,auth:o,path:i}):t.path=i}const r={"accept-encoding":"gzip, deflate"};let n;t.headers&&Object.keys(t.headers).forEach((e=>r[e.toLowerCase()]=t.headers[e])),t.headers=r,t.body?n=t.json&&!h(t.body)?JSON.stringify(t.body):t.body:t.form&&(n="string"==typeof t.form?t.form:u.stringify(t.form),t.headers["content-type"]="application/x-www-form-urlencoded"),n&&(t.method||(t.method="POST"),h(n)||(t.headers["content-length"]=Buffer.byteLength(n)),t.json&&!t.form&&(t.headers["content-type"]="application/json")),delete t.body,delete t.form,t.json&&(t.headers.accept="application/json"),t.method&&(t.method=t.method.toUpperCase());const l=("https:"===t.protocol?a:i).request(t,(r=>{if(!1!==t.followRedirects&&r.statusCode>=300&&r.statusCode<400&&r.headers.location)return t.url=r.headers.location,delete t.headers.host,r.resume(),"POST"===t.method&&[301,302].includes(r.statusCode)&&(t.method="GET",delete t.headers["content-length"],delete t.headers["content-type"]),0==t.maxRedirects--?e(new Error("too many redirects")):f(t,e);const n="function"==typeof o&&"HEAD"!==t.method;e(null,n?o(r):r)}));return l.on("timeout",(()=>{l.abort(),e(new Error("Request timed out"))})),l.on("error",e),h(n)?n.on("error",e).pipe(l):l.end(n),l}f.concat=(t,e)=>f(t,((r,o)=>{if(r)return e(r);n(o,((r,n)=>{if(r)return e(r);if(t.json)try{n=JSON.parse(n.toString())}catch(r){return e(r,o,n)}e(null,o,n)}))})),["get","post","put","patch","head","delete"].forEach((t=>{f[t]=(e,r)=>("string"==typeof e&&(e={url:e}),f(Object.assign({method:t.toUpperCase()},e),r))}))},984:(t,e,r)=>{"use strict";r.d(e,{default:()=>O});var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},i=function(t){return!!t&&"object"==typeof t&&!Array.isArray(t)};function a(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!e.length)return t;var s=e.shift();return void 0!==s&&i(t)&&i(s)?(t=n({},t),Object.keys(s).forEach((function(e){var r=t[e],n=s[e];Array.isArray(r)&&Array.isArray(n)?t[e]=n:i(r)&&i(n)?t[e]=a(Object.assign({},r),n):t[e]=n})),a.apply(void 0,o([t],e))):t}const s={L:.07,M:.15,Q:.25,H:.3};var u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};const c=function(){function t(t){var e=t.context,r=t.type;this._context=e,this._type=r}return t.prototype.draw=function(t,e,r,n){var o,i=this._context;switch(this._type){case"dots":o=this._drawDot;break;case"classy":o=this._drawClassy;break;case"classy-rounded":o=this._drawClassyRounded;break;case"rounded":o=this._drawRounded;break;case"extra-rounded":o=this._drawExtraRounded;break;case"square":default:o=this._drawSquare}o.call(this,{x:t,y:e,size:r,context:i,getNeighbor:n})},t.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,a=t.draw,s=e+n/2,u=r+n/2;o.translate(s,u),i&&o.rotate(i),a(),o.closePath(),i&&o.rotate(-i),o.translate(-s,-u)},t.prototype._basicDot=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI)}}))},t.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},t.prototype._basicSideRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,Math.PI/2),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},t.prototype._basicCornerRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,0),r.lineTo(e/2,e/2),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},t.prototype._basicCornerExtraRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.arc(-e/2,e/2,e,-Math.PI/2,0),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2)}}))},t.prototype._basicCornersRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,0),r.lineTo(e/2,e/2),r.lineTo(0,e/2),r.arc(0,0,e/2,Math.PI/2,Math.PI),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},t.prototype._basicCornersExtraRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(u(u({},t),{draw:function(){r.arc(-e/2,e/2,e,-Math.PI/2,0),r.arc(e/2,-e/2,e,Math.PI/2,Math.PI)}}))},t.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context;this._basicDot({x:e,y:r,size:n,context:o,rotation:0})},t.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.context;this._basicSquare({x:e,y:r,size:n,context:o,rotation:0})},t.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),u=+i(0,-1),c=+i(0,1),h=a+s+u+c;if(0!==h)if(h>2||a&&s||u&&c)this._basicSquare({x:e,y:r,size:n,context:o,rotation:0});else{if(2===h){var f=0;return a&&u?f=Math.PI/2:u&&s?f=Math.PI:s&&c&&(f=-Math.PI/2),void this._basicCornerRounded({x:e,y:r,size:n,context:o,rotation:f})}if(1===h)return f=0,u?f=Math.PI/2:s?f=Math.PI:c&&(f=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,context:o,rotation:f})}else this._basicDot({x:e,y:r,size:n,context:o,rotation:0})},t.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),u=+i(0,-1),c=+i(0,1),h=a+s+u+c;if(0!==h)if(h>2||a&&s||u&&c)this._basicSquare({x:e,y:r,size:n,context:o,rotation:0});else{if(2===h){var f=0;return a&&u?f=Math.PI/2:u&&s?f=Math.PI:s&&c&&(f=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:r,size:n,context:o,rotation:f})}if(1===h)return f=0,u?f=Math.PI/2:s?f=Math.PI:c&&(f=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,context:o,rotation:f})}else this._basicDot({x:e,y:r,size:n,context:o,rotation:0})},t.prototype._drawClassy=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),u=+i(0,-1),c=+i(0,1);0!==a+s+u+c?a||u?s||c?this._basicSquare({x:e,y:r,size:n,context:o,rotation:0}):this._basicCornerRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:r,size:n,context:o,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2})},t.prototype._drawClassyRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=+i(-1,0),s=+i(1,0),u=+i(0,-1),c=+i(0,1);0!==a+s+u+c?a||u?s||c?this._basicSquare({x:e,y:r,size:n,context:o,rotation:0}):this._basicCornerExtraRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:r,size:n,context:o,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2})},t}();var h=function(){return(h=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};const f=function(){function t(t){var e=t.context,r=t.type;this._context=e,this._type=r}return t.prototype.draw=function(t,e,r,n){var o,i=this._context;switch(this._type){case"square":o=this._drawSquare;break;case"extra-rounded":o=this._drawExtraRounded;break;case"dot":default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,context:i,rotation:n})},t.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,a=t.draw,s=e+n/2,u=r+n/2;o.translate(s,u),i&&o.rotate(i),a(),o.closePath(),i&&o.rotate(-i),o.translate(-s,-u)},t.prototype._basicDot=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(h(h({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI),r.arc(0,0,e/2-n,0,2*Math.PI)}}))},t.prototype._basicSquare=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(h(h({},t),{draw:function(){r.rect(-e/2,-e/2,e,e),r.rect(-e/2+n,-e/2+n,e-2*n,e-2*n)}}))},t.prototype._basicExtraRounded=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(h(h({},t),{draw:function(){r.arc(-n,-n,2.5*n,Math.PI,-Math.PI/2),r.lineTo(n,-3.5*n),r.arc(n,-n,2.5*n,-Math.PI/2,0),r.lineTo(3.5*n,-n),r.arc(n,n,2.5*n,0,Math.PI/2),r.lineTo(-n,3.5*n),r.arc(-n,n,2.5*n,Math.PI/2,Math.PI),r.lineTo(-3.5*n,-n),r.arc(-n,-n,1.5*n,Math.PI,-Math.PI/2),r.lineTo(n,-2.5*n),r.arc(n,-n,1.5*n,-Math.PI/2,0),r.lineTo(2.5*n,-n),r.arc(n,n,1.5*n,0,Math.PI/2),r.lineTo(-n,2.5*n),r.arc(-n,n,1.5*n,Math.PI/2,Math.PI),r.lineTo(-2.5*n,-n)}}))},t.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicDot({x:e,y:r,size:n,context:o,rotation:i})},t.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicSquare({x:e,y:r,size:n,context:o,rotation:i})},t.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicExtraRounded({x:e,y:r,size:n,context:o,rotation:i})},t}();var l=function(){return(l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};const d=function(){function t(t){var e=t.context,r=t.type;this._context=e,this._type=r}return t.prototype.draw=function(t,e,r,n){var o,i=this._context;switch(this._type){case"square":o=this._drawSquare;break;case"dot":default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,context:i,rotation:n})},t.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,a=t.draw,s=e+n/2,u=r+n/2;o.translate(s,u),i&&o.rotate(i),a(),o.closePath(),i&&o.rotate(-i),o.translate(-s,-u)},t.prototype._basicDot=function(t){var e=t.size,r=t.context;this._rotateFigure(l(l({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI)}}))},t.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(l(l({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},t.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicDot({x:e,y:r,size:n,context:o,rotation:i})},t.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicSquare({x:e,y:r,size:n,context:o,rotation:i})},t}();var p=r(625),g=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},v=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],m=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const w=function(){function t(t){this._canvas=(0,p.createCanvas)(t.width,t.height),this._options=t}return Object.defineProperty(t.prototype,"context",{get:function(){return this._canvas.getContext("2d")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._canvas.height},enumerable:!1,configurable:!0}),t.prototype.getCanvas=function(){return this._canvas},t.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this._canvas.width,this._canvas.height)},t.prototype.drawQR=function(t){return g(this,void 0,void 0,(function(){var e,r,n,o,i,a,u,c,h,f=this;return v(this,(function(l){switch(l.label){case 0:return e=t.getModuleCount(),r=Math.min(this._options.width,this._options.height)-2*this._options.margin,n=Math.floor(r/e),o={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(l.sent(),!this._image)return[2];i=this._options,a=i.imageOptions,u=i.qrOptions,c=a.imageSize*s[u.errorCorrectionLevel],h=Math.floor(c*e*e),o=function(t){var e=t.originalHeight,r=t.originalWidth,n=t.maxHiddenDots,o=t.maxHiddenAxisDots,i=t.dotSize,a={x:0,y:0},s={x:0,y:0};if(e<=0||r<=0||n<=0||i<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var u=e/r;return a.x=Math.floor(Math.sqrt(n/u)),a.x<=0&&(a.x=1),o&&o<a.x&&(a.x=o),a.x%2==0&&a.x--,s.x=a.x*i,a.y=1+2*Math.ceil((a.x*u-1)/2),s.y=Math.round(s.x*u),(a.y*a.x>n||o&&o<a.y)&&(o&&o<a.y?(a.y=o,a.y%2==0&&a.x--):a.y-=2,s.y=a.y*i,a.x=1+2*Math.ceil((a.y/u-1)/2),s.x=Math.round(s.y/u)),{height:s.y,width:s.x,hideYDots:a.y,hideXDots:a.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:h,maxHiddenAxisDots:e-14,dotSize:n}),l.label=2;case 2:return this.clear(),this.drawBackground(),this.drawDots((function(t,r){var n,i,a,s,u,c;return!(f._options.imageOptions.hideBackgroundDots&&t>=(e-o.hideXDots)/2&&t<(e+o.hideXDots)/2&&r>=(e-o.hideYDots)/2&&r<(e+o.hideYDots)/2||(null===(n=y[t])||void 0===n?void 0:n[r])||(null===(i=y[t-e+7])||void 0===i?void 0:i[r])||(null===(a=y[t])||void 0===a?void 0:a[r-e+7])||(null===(s=m[t])||void 0===s?void 0:s[r])||(null===(u=m[t-e+7])||void 0===u?void 0:u[r])||(null===(c=m[t])||void 0===c?void 0:c[r-e+7]))})),this.drawCorners(),this._options.image&&this.drawImage({width:o.width,height:o.height,count:e,dotSize:n}),[2]}}))}))},t.prototype.drawBackground=function(){var t=this.context,e=this._options;if(t){if(e.backgroundOptions.gradient){var r=e.backgroundOptions.gradient,n=this._createGradient({context:t,options:r,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});r.colorStops.forEach((function(t){var e=t.offset,r=t.color;n.addColorStop(e,r)})),t.fillStyle=n}else e.backgroundOptions.color&&(t.fillStyle=e.backgroundOptions.color);t.fillRect(0,0,this._canvas.width,this._canvas.height)}},t.prototype.drawDots=function(t){var e=this;if(!this._qr)throw"QR code is not defined";var r=this.context;if(!r)throw"QR code is not defined";var n=this._options,o=this._qr.getModuleCount();if(o>n.width||o>n.height)throw"The canvas is too small.";var i=Math.min(n.width,n.height)-2*n.margin,a=Math.floor(i/o),s=Math.floor((n.width-o*a)/2),u=Math.floor((n.height-o*a)/2),h=new c({context:r,type:n.dotsOptions.type});r.beginPath();for(var f=function(r){for(var n=function(n){return t&&!t(r,n)?"continue":l._qr.isDark(r,n)?void h.draw(s+r*a,u+n*a,a,(function(i,a){return!(r+i<0||n+a<0||r+i>=o||n+a>=o)&&!(t&&!t(r+i,n+a))&&!!e._qr&&e._qr.isDark(r+i,n+a)})):"continue"},i=0;i<o;i++)n(i)},l=this,d=0;d<o;d++)f(d);if(n.dotsOptions.gradient){var p=n.dotsOptions.gradient,g=this._createGradient({context:r,options:p,additionalRotation:0,x:s,y:u,size:o*a});p.colorStops.forEach((function(t){var e=t.offset,r=t.color;g.addColorStop(e,r)})),r.fillStyle=r.strokeStyle=g}else n.dotsOptions.color&&(r.fillStyle=r.strokeStyle=n.dotsOptions.color);r.fill("evenodd")},t.prototype.drawCorners=function(t){var e=this;if(!this._qr)throw"QR code is not defined";var r=this.context;if(!r)throw"QR code is not defined";var n=this._options,o=this._qr.getModuleCount(),i=Math.min(n.width,n.height)-2*n.margin,a=Math.floor(i/o),s=7*a,u=3*a,h=Math.floor((n.width-o*a)/2),l=Math.floor((n.height-o*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((function(i){var p,g,v,w,x,b,_,M,S,k,C=i[0],D=i[1],O=i[2];if(!t||t(C,D)){var P=h+C*a*(o-7),I=l+D*a*(o-7);if(null===(p=n.cornersSquareOptions)||void 0===p?void 0:p.type){var A=new f({context:r,type:null===(g=n.cornersSquareOptions)||void 0===g?void 0:g.type});r.beginPath(),A.draw(P,I,s,O)}else{var z=new c({context:r,type:n.dotsOptions.type});r.beginPath();for(var B=function(t){for(var e=function(e){if(!(null===(v=y[t])||void 0===v?void 0:v[e]))return"continue";z.draw(P+t*a,I+e*a,a,(function(r,n){var o;return!!(null===(o=y[t+r])||void 0===o?void 0:o[e+n])}))},r=0;r<y[t].length;r++)e(r)},j=0;j<y.length;j++)B(j)}if(null===(w=n.cornersSquareOptions)||void 0===w?void 0:w.gradient){var q=n.cornersSquareOptions.gradient,E=e._createGradient({context:r,options:q,additionalRotation:O,x:P,y:I,size:s});q.colorStops.forEach((function(t){var e=t.offset,r=t.color;E.addColorStop(e,r)})),r.fillStyle=r.strokeStyle=E}else(null===(x=n.cornersSquareOptions)||void 0===x?void 0:x.color)&&(r.fillStyle=r.strokeStyle=n.cornersSquareOptions.color);if(r.fill("evenodd"),null===(b=n.cornersDotOptions)||void 0===b?void 0:b.type){var R=new d({context:r,type:null===(_=n.cornersDotOptions)||void 0===_?void 0:_.type});r.beginPath(),R.draw(P+2*a,I+2*a,u,O)}else{z=new c({context:r,type:n.dotsOptions.type}),r.beginPath();var T=function(t){for(var e=function(e){if(!(null===(M=m[t])||void 0===M?void 0:M[e]))return"continue";z.draw(P+t*a,I+e*a,a,(function(r,n){var o;return!!(null===(o=m[t+r])||void 0===o?void 0:o[e+n])}))},r=0;r<m[t].length;r++)e(r)};for(j=0;j<m.length;j++)T(j)}if(null===(S=n.cornersDotOptions)||void 0===S?void 0:S.gradient){q=n.cornersDotOptions.gradient;var F=e._createGradient({context:r,options:q,additionalRotation:O,x:P+2*a,y:I+2*a,size:u});q.colorStops.forEach((function(t){var e=t.offset,r=t.color;F.addColorStop(e,r)})),r.fillStyle=r.strokeStyle=F}else(null===(k=n.cornersDotOptions)||void 0===k?void 0:k.color)&&(r.fillStyle=r.strokeStyle=n.cornersDotOptions.color);r.fill("evenodd")}}))},t.prototype.loadImage=function(){return g(this,void 0,void 0,(function(){var t,e;return v(this,(function(r){switch(r.label){case 0:if(!(t=this._options).image)throw new Error("Image is not defined");return e=this,[4,(0,p.loadImage)(t.image)];case 1:return e._image=r.sent(),[2]}}))}))},t.prototype.drawImage=function(t){var e=t.width,r=t.height,n=t.count,o=t.dotSize,i=this.context;if(!i)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";var a=this._options,s=Math.floor((a.width-n*o)/2),u=Math.floor((a.height-n*o)/2),c=s+a.imageOptions.margin+(n*o-e)/2,h=u+a.imageOptions.margin+(n*o-r)/2,f=e-2*a.imageOptions.margin,l=r-2*a.imageOptions.margin;i.drawImage(this._image,c,h,f<0?0:f,l<0?0:l)},t.prototype._createGradient=function(t){var e,r=t.context,n=t.options,o=t.additionalRotation,i=t.x,a=t.y,s=t.size;if("radial"===n.type)e=r.createRadialGradient(i+s/2,a+s/2,0,i+s/2,a+s/2,s/2);else{var u=((n.rotation||0)+o)%(2*Math.PI),c=(u+2*Math.PI)%(2*Math.PI),h=i+s/2,f=a+s/2,l=i+s/2,d=a+s/2;c>=0&&c<=.25*Math.PI||c>1.75*Math.PI&&c<=2*Math.PI?(h-=s/2,f-=s/2*Math.tan(u),l+=s/2,d+=s/2*Math.tan(u)):c>.25*Math.PI&&c<=.75*Math.PI?(f-=s/2,h-=s/2/Math.tan(u),d+=s/2,l+=s/2/Math.tan(u)):c>.75*Math.PI&&c<=1.25*Math.PI?(h+=s/2,f+=s/2*Math.tan(u),l-=s/2,d-=s/2*Math.tan(u)):c>1.25*Math.PI&&c<=1.75*Math.PI&&(f+=s/2,h+=s/2/Math.tan(u),d-=s/2,l-=s/2/Math.tan(u)),e=r.createLinearGradient(Math.round(h),Math.round(f),Math.round(l),Math.round(d))}return e},t}();for(var x={},b=0;b<=40;b++)x[b]=b;const _={width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:x[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"}};var M=function(){return(M=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function S(t){var e=M({},t);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map((function(t){return M(M({},t),{offset:Number(t.offset)})})),e}function k(t){var e=M({},t);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=M(M({},e.imageOptions),{hideBackgroundDots:Boolean(e.imageOptions.hideBackgroundDots),imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=M({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=S(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=M({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=S(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=M({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=S(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=M({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=S(e.backgroundOptions.gradient))),e}var C=r(192),D=r.n(C);const O=function(){function t(t){this._options=t?k(a(_,t)):_}return t.prototype.draw=function(t){return e=this,r=void 0,o=function(){return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){switch(e.label){case 0:if(this._options=t?k(a(this._options,t)):this._options,!this._options.data)throw new Error("Data isn`t defined");return this._qr=D()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._canvas=new w(this._options),[4,this._canvas.drawQR(this._qr)];case 1:return e.sent(),[2,this]}}))},new((n=void 0)||(n=Promise))((function(t,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(a,s)}u((o=o.apply(e,r||[])).next())}));var e,r,n,o},t.prototype.toPNGBuffer=function(t){var e;return null===(e=this._canvas)||void 0===e?void 0:e.getCanvas().toBuffer("image/png",t)},t}()},479:t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),o=t[t.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(t){n[t]=o[t]})),n}}},747:t=>{"use strict";t.exports=require("fs")},605:t=>{"use strict";t.exports=require("http")},211:t=>{"use strict";t.exports=require("https")},622:t=>{"use strict";t.exports=require("path")},191:t=>{"use strict";t.exports=require("querystring")},413:t=>{"use strict";t.exports=require("stream")},835:t=>{"use strict";t.exports=require("url")},669:t=>{"use strict";t.exports=require("util")},761:t=>{"use strict";t.exports=require("zlib")}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n](o,o.exports,r),o.loaded=!0,o.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r.p="",r(984)})().default}));
//# sourceMappingURL=qr-code-styling.js.map